{% load i18n static text_extras %}

<div class="no-border">
    {% for snap in gadget_snap_list %}
        {% ifchanged snap.release.all|first %}
            <h2>Available on release: {{ snap.release.all|first }}</h2>
        {% endifchanged %}

        {% if gadget_snap_list|index:snap|divisibleby:1 %}
            <div class="left twelve-col last-col box">
        {% else %}
            <div class="left twelve-col box">
        {% endif %}
        {% if snap.icon_url %}
            <div class="two-col no-margin-bottom">
                <img src="{{ snap.icon_url }}"/>
            </div>
        {% else %}
            {% with 0|randint:10|string as rand %}
                {% with "img/boards/noboard-"|add:rand|add:".png" as noboard %}
                    <div class="two-col no-margin-bottom">
                        <img src="{% static noboard %}"/>
                    </div>
                {% endwith %}
            {% endwith %}
        {% endif %}
        <div class="ten-col last-col no-margin-bottom">
        <h3>
        {% with snap_name=snap.title|default_if_none:snap.name %}
	          {{ snap_name|style_snap_name }}
            {% if snap.publisher == "Canonical" %}
             (officially supported)
            {% endif %}
        {% endwith %}
        </h3>
            {% if snap.description|length > 180 %}
                <p>{{ snap.description|truncatechars:180 }}</p>
            {% else %}
                <p>{% autoescape off %}{{ snap.description|html_links }}{% endautoescape %}</p>
            {% endif %}
                <ul class="list-ubuntu">
                    <li>
                    <a href="https://developer.ubuntu.com/en/snappy/start/">{% trans "Install Snappy on this device" %}</a>
                    </li>
                </ul>
            </div>
        </div>
    {% endfor %}
</div>
